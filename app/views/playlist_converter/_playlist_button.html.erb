<!-- app/views/playlists/_playlist_button.html.erb -->
<% if @playlist_link.present? %>
  <div id="playlist-link-container">
    <h2>Playlist Created Successfully!</h2>
    <p>Your playlist has been created, and the songs have been added.</p>
    <p>Here is the link to your playlist:</p>
    <%= link_to 'Click here to open the playlist', @playlist_link %>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // Create a new button element
      var playlistLinkButton = document.createElement('a');
      playlistLinkButton.textContent = 'Go to Playlist';
      playlistLinkButton.href = '<%= @playlist_link %>';
      playlistLinkButton.target = '_blank'; // Open the link in a new tab

      // Append the button to the container
      var playlistLinkContainer = document.getElementById('playlist-link-container');
      playlistLinkContainer.appendChild(playlistLinkButton);
    });
  </script>
<% end %>
